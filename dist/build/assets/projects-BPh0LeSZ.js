import{r as s,j as e}from"./app-BI3ih6G4.js";import{L as C}from"./Layout-BnPfBhsq.js";/* empty css            */import"./dropdown-menu-Dk0SYPSS.js";function G(){const[m,T]=s.useState([]),[_,P]=s.useState([]),[u,p]=s.useState(!0),[b,f]=s.useState(null),[l,o]=s.useState(1),[n,E]=s.useState(1),[j,D]=s.useState(0),[i,v]=s.useState(""),[c,k]=s.useState(""),[h,N]=s.useState(!1),[g,w]=s.useState("updated_at"),[x,S]=s.useState("desc"),y=s.useCallback(async()=>{try{p(!0),f(null);const t=new URLSearchParams({page:l.toString(),per_page:"12"});i&&t.append("search",i),c&&t.append("technology",c),h&&t.append("featured","true"),g&&t.append("sort",g),x&&t.append("direction",x);const r=window.location.origin,a=await fetch(`${r}/api/v1/projects?${t.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!a.ok){const H=await a.json();throw new Error(H.message||`HTTP ${a.status}: ${a.statusText}`)}const d=await a.json();if(d.success&&d.data&&Array.isArray(d.data))T(d.data),E(d.meta?.last_page||1),D(d.meta?.total||0);else throw new Error(d.message||"Invalid response format")}catch(t){console.error("Fetch error:",t),f(t instanceof Error?t.message:"An error occurred")}finally{p(!1)}},[l,i,c,h,g,x]);s.useEffect(()=>{L()},[]),s.useEffect(()=>{o(1)},[i,c,h,g,x]),s.useEffect(()=>{y()},[y]);const L=async()=>{try{const t=window.location.origin,r=await fetch(`${t}/api/v1/projects/technologies`);if(r.ok){const a=await r.json();a.success&&P(a.data)}}catch(t){console.error("Failed to fetch technologies:",t)}},$=t=>new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),F=t=>({JavaScript:"bg-yellow-400",TypeScript:"bg-blue-400",Python:"bg-green-400",PHP:"bg-purple-400",Java:"bg-red-400","C#":"bg-green-500",Go:"bg-cyan-400",Rust:"bg-orange-400",Vue:"bg-green-400",React:"bg-blue-400"})[t]||"bg-gray-400",A=()=>{v(""),k(""),N(!1),w("updated_at"),S("desc"),o(1)};return u&&m.length===0?e.jsx(C,{title:"Dự án Portfolio",children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Đang tải dự án..."})]})})}):e.jsx(C,{title:"Dự án Portfolio",children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Tất cả dự án"}),e.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:["Khám phá toàn bộ ",j," dự án từ GitHub repositories của tôi"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tìm kiếm"}),e.jsx("input",{type:"text",value:i,onChange:t=>v(t.target.value),placeholder:"Tên dự án, mô tả...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Công nghệ"}),e.jsxs("select",{value:c,onChange:t=>k(t.target.value),title:"Chọn công nghệ để lọc",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Tất cả công nghệ"}),_.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sắp xếp theo"}),e.jsxs("select",{value:`${g}-${x}`,onChange:t=>{const[r,a]=t.target.value.split("-");w(r),S(a)},title:"Chọn cách sắp xếp",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"updated_at-desc",children:"Cập nhật mới nhất"}),e.jsx("option",{value:"created_at-desc",children:"Tạo mới nhất"}),e.jsx("option",{value:"stargazers_count-desc",children:"Nhiều sao nhất"}),e.jsx("option",{value:"stargazers_count-asc",children:"Ít sao nhất"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bộ lọc"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:h,onChange:t=>N(t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Chỉ dự án nổi bật"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Tìm thấy ",j," dự án"]}),e.jsx("button",{onClick:A,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Xóa bộ lọc"})]})]}),b&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:b}),e.jsx("button",{onClick:()=>y(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Thử lại"})]}),u&&e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!u&&!b&&e.jsxs(e.Fragment,{children:[m.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Không tìm thấy dự án nào phù hợp với bộ lọc."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:m.map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center relative",children:[e.jsx("span",{className:"text-white text-3xl font-bold",children:t.title.charAt(0)}),t.featured&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"bg-yellow-400 text-yellow-900 text-xs px-2 py-1 rounded-full font-semibold",children:"⭐ Nổi bật"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex-1",children:t.title}),t.language&&e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${F(t.language)}`}),e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.language})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsx("span",{children:t.stargazers_count})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414L2.586 7l3.707-3.707a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:t.forks_count})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:t.description||"Chưa có mô tả"}),t.technologies&&t.technologies.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.technologies.slice(0,3).map((r,a)=>e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full font-medium",children:r},a)),t.technologies.length>3&&e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-xs px-2 py-1 rounded-full font-medium",children:["+",t.technologies.length-3]})]})}),t.topics&&t.topics.length>0&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.topics.slice(0,3).map((r,a)=>e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs px-2 py-1 rounded font-medium",children:["#",r]},a))})}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Cập nhật: ",$(t.updated_at)]}),e.jsxs("div",{className:"flex gap-2",children:[t.demo_url&&e.jsx("a",{href:t.demo_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white text-center py-2 px-4 rounded hover:bg-blue-700 transition-colors font-medium",children:"Demo"}),t.github_url&&e.jsx("a",{href:t.github_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gray-600 text-white text-center py-2 px-4 rounded hover:bg-gray-700 transition-colors font-medium",children:"GitHub"})]})]})]},t.id))}),n>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("nav",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>o(t=>Math.max(t-1,1)),disabled:l===1,className:"px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),Array.from({length:Math.min(5,n)},(t,r)=>{let a;return n<=5||l<=3?a=r+1:l>=n-2?a=n-4+r:a=l-2+r,e.jsx("button",{onClick:()=>o(a),className:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md ${l===a?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:a},a)}),e.jsx("button",{onClick:()=>o(t=>Math.min(t+1,n)),disabled:l===n,className:"px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})})]})]})})})}export{G as default};
